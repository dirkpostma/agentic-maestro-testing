appId: com.agentic.maestrotesting
---
# Counter App E2E Test Flow
# Tests basic counter functionality and custom step size feature

- launchApp

# Handle Expo Dev Client launcher - tap on the recently opened project
- runFlow:
    when:
      visible: "No development servers found"
    commands:
      - tapOn: "agentic-maestro-testing"

# Dismiss developer menu modal if it appears
- runFlow:
    when:
      visible: "Continue"
    commands:
      - tapOn: "Continue"

# Dismiss dev tools menu if it appears (tap outside or X button)
- runFlow:
    when:
      visible: "Toggle performance monitor"
    commands:
      - tapOn:
          point: "50%,10%"

# Wait for app to load
- extendedWaitUntil:
    visible: "Counter App"
    timeout: 15000

# Verify initial state
- assertVisible: "Counter App"
- assertVisible: "Count: 0"

# Verify step size selector exists
- assertVisible: "Step Size:"
- assertVisible:
    id: "step-button-1"
- assertVisible:
    id: "step-button-5"
- assertVisible:
    id: "step-button-10"

# Test increment with default step size (1)
- tapOn:
    id: "increment-button"
- assertVisible: "Count: 1"

- tapOn:
    id: "increment-button"
- assertVisible: "Count: 2"

- tapOn:
    id: "increment-button"
- assertVisible: "Count: 3"

# Test decrement with step size 1
- tapOn:
    id: "decrement-button"
- assertVisible: "Count: 2"

# Switch to step size 5
- tapOn:
    id: "step-button-5"

# Test increment with step size 5 (2 + 5 = 7)
- tapOn:
    id: "increment-button"
- assertVisible: "Count: 7"

# Test decrement with step size 5 (7 - 5 = 2)
- tapOn:
    id: "decrement-button"
- assertVisible: "Count: 2"

# Switch to step size 10
- tapOn:
    id: "step-button-10"

# Test increment with step size 10 (2 + 10 = 12)
- tapOn:
    id: "increment-button"
- assertVisible: "Count: 12"

# Test decrement with step size 10 (12 - 10 = 2)
- tapOn:
    id: "decrement-button"
- assertVisible: "Count: 2"

# Test reset still works
- tapOn:
    id: "reset-button"
- assertVisible: "Count: 0"

# Switch back to step size 1 and verify
- tapOn:
    id: "step-button-1"
- tapOn:
    id: "increment-button"
- assertVisible: "Count: 1"

# Test decrement below zero with step size 1
- tapOn:
    id: "decrement-button"
- assertVisible: "Count: 0"
- tapOn:
    id: "decrement-button"
- assertVisible: "Count: -1"
